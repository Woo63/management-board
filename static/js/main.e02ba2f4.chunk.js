(this["webpackJsonpmanagement-board"]=this["webpackJsonpmanagement-board"]||[]).push([[0],{16:function(t,e,n){},21:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAUklEQVRo3u3XQQ7AEBRAQe3976xnsOBFOrMW34sNYwAAnWfj3vPErHdjwBECagJqAmoCagJqK++TubD22NmuvwEBNf+BmoCagJqAmoCaAADgzz7jEwM2sZG45gAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wOS0wNlQwOTo0MjowNSswMDowMODPFDsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDktMDZUMDk6NDI6MDUrMDA6MDCRkqyHAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="},23:function(t,e,n){t.exports=n(35)},29:function(t,e,n){},35:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(9),i=n.n(o),c=(n(28),n(16),n(5)),s=n(6),u=n(3),l=n(7),d=n(8),p=(n(29),n(12)),h=n(4),m=n.n(h),f=n(10),g=n(1),b=n(2);function v(){var t=Object(g.a)(["\n    background:none;\n    border:none;\n    float:right;\n    font-size: 1.2rem;\n    line-height: 1;\n    margin-bottom:5px;\n"]);return v=function(){return t},t}var A=b.a.button(v()),w=function(t){var e=t.onHandler;return r.a.createElement(A,{type:"button",className:"btn btn-light btn-sm",onClick:e},"\xd7")};function x(){var t=Object(g.a)(["\n    width: 100%;\n"]);return x=function(){return t},t}function k(){var t=Object(g.a)(["\n    text-align: center;    \n    padding:2%;\n    font-size: 1.2rem;\n"]);return k=function(){return t},t}function O(){var t=Object(g.a)(["\n    border-top: 1px solid #9b9d9e;\n    padding: 15px;    \n    text-align: left;\n    &:not(:last-child) {\n        margin-bottom: 5%;\n        margin-right: ",";\n    }\n"]);return O=function(){return t},t}var j=b.a.div(O(),(function(t){return t.marginRight?"1%":"0"})),y=b.a.h4(k()),E=b.a.p(x()),S=function(t){var e=t.ticket,n=t.marginRight,a=t.onDragStart,o=t.onRemove;return r.a.createElement(j,{draggable:!0,onDragStart:function(t){return a&&a(t,e.id)},marginRight:n},r.a.createElement(w,{onHandler:function(){return o(e.id)}}),r.a.createElement(y,null,e.title),r.a.createElement(E,null,e.body))};function D(){var t=Object(g.a)(["\n    text-align: center;\n"]);return D=function(){return t},t}function C(){var t=Object(g.a)(["\n    background: linear-gradient(to top left, powderblue, pink);      \n    padding-top:15px;\n    border-radius: 10px;\n    padding:10px;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    min-height: 50vh;\n    width: 20vw;\n    \n    @media (max-width: 768px) {\n        margin-bottom: 5%;\n    }\n    \n"]);return C=function(){return t},t}var F=b.a.div(C()),N=b.a.div(D()),R=function(t){var e=t.loading,n=t.error,a=t.title,o=t.tickets,i=t.onDragStart,c=t.onDragOver,s=t.onDrop,u=t.tableId,l=t.onRemove;return r.a.createElement(F,{onDragOver:function(t){return c(t)},onDrop:function(t){return s(t,u)}},r.a.createElement("p",null,a),(e||n)&&r.a.createElement(N,null,e?"Loading...":n),o.map((function(t){return r.a.createElement(S,{key:t.id,onDragStart:i,ticket:t,onRemove:l})})))};function T(){var t=Object(g.a)(["\n    background: linear-gradient(to top left, powderblue, pink);      \n    border-radius: 10px;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    padding: 10px 20px 20px;\n    width:30%;\n    min-width:250px;\n    margin: 2% auto;\n    \n"]);return T=function(){return t},t}var B=b.a.form(T()),M=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(c.a)(this,n),(t=e.call(this)).state={title:"",body:"",lane:1},t.onChangeTitle=t.onChangeTitle.bind(Object(u.a)(t)),t.onChangeBody=t.onChangeBody.bind(Object(u.a)(t)),t.onSubmit=t.onSubmit.bind(Object(u.a)(t)),t}return Object(s.a)(n,[{key:"onSubmit",value:function(t){this.state.title.trim().length&&this.state.body.trim().length?(t.preventDefault(),this.props.postTicket(this.state),this.props.onShowForm(),this.setState({title:"",body:""}),alert("".concat(this.state.title," added!"))):alert("Error added!")}},{key:"onChangeBody",value:function(t){this.setState({body:t.target.value})}},{key:"onChangeTitle",value:function(t){this.setState({title:t.target.value})}},{key:"render",value:function(){var t=this;return r.a.createElement(B,{onSubmit:this.onSubmit},r.a.createElement(w,{onHandler:function(){return t.props.onShowForm()}}),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"text",name:"title",value:this.state.title,onChange:this.onChangeTitle,placeholder:"Title"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{className:"form-control",name:"body",value:this.state.body,onChange:this.onChangeBody,placeholder:"Comment"})),r.a.createElement("input",{className:"btn btn-outline-secondary",type:"submit",value:"Submit"}))}}]),n}(a.Component),W=n(37);function I(){var t=Object(g.a)(["\n    display:flex;\n    flex-direction:row;\n    justify-content: space-between;\n    margin:20px 0px 30px;\n    flex-wrap:wrap;\n    padding:0 15px;\n"]);return I=function(){return t},t}var J=b.a.div(I()),U="https://management-board-3ec1f.firebaseio.com",G=function(t){var e=function(e){Object(d.a)(a,e);var n=Object(l.a)(a);function a(){var t;return Object(c.a)(this,a),(t=n.call(this)).state={data:[],loading:!0,error:""},t}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var t=Object(f.a)(m.a.mark((function t(){var e,n,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat("https://management-board-3ec1f.firebaseio.com","/tickets.json"));case 3:return e=t.sent,t.next=6,e.json();case 6:n=t.sent,a=Object.keys(n).map((function(t){return Object(p.a)({},n[t],{id:t})})),n&&this.setState({data:a,loading:!1}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),this.setState({loading:!1,error:t.t0.message});case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,n=e.data,a=e.loading,o=e.error;return r.a.createElement(t,Object.assign({data:n,loading:a,error:o},this.props))}}]),a}(r.a.Component);return e.displayName="WithDataFetching(".concat(t.name,")"),e}(function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(c.a)(this,n),(t=e.call(this)).onDragStart=function(t,e){t.dataTransfer.setData("id",e)},t.onDragOver=function(t){t.preventDefault()},t.onDrop=function(){var e=Object(f.a)(m.a.mark((function e(n,a){var r,o,i,c,s,u,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dataTransfer.getData("id"),o=t.state.tickets.findIndex((function(t){return t.id===r})),i={title:t.state.tickets[o].title,body:t.state.tickets[o].body,lane:a},e.next=5,fetch("".concat(U,"/tickets.json"),{method:"POST",body:JSON.stringify(i)});case 5:return c=e.sent,e.next=8,c.json();case 8:s=e.sent,i.id=s.name,u=t.state.tickets,l=u.findIndex((function(t){return t.id===r})),u.splice(l,1),u.push(i),t.setState({tickets:u}),fetch("".concat(U,"/tickets/").concat(r,".json"),{method:"delete"}).then((function(t){return t.json()}));case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.state={tickets:[]},t.onDragOver=t.onDragOver.bind(Object(u.a)(t)),t.onDrop=t.onDrop.bind(Object(u.a)(t)),t.postTicket=t.postTicket.bind(Object(u.a)(t)),t.onRemove=t.onRemove.bind(Object(u.a)(t)),t}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(t){t.data!==this.props.data&&this.setState({tickets:this.props.data})}},{key:"postTicket",value:function(){var t=Object(f.a)(m.a.mark((function t(e){var n,a,r,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(U,"/tickets.json"),{method:"POST",body:JSON.stringify(e)});case 3:return n=t.sent,t.next=6,n.json();case 6:a=t.sent,r=Object(p.a)({},e,{id:a.name}),(o=this.state.tickets).push(r),a&&this.setState({tickets:o}),t.next=16;break;case 13:throw t.prev=13,t.t0=t.catch(0),new Error(t.t0.message);case 16:case"end":return t.stop()}}),t,this,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},{key:"onRemove",value:function(){var t=Object(f.a)(m.a.mark((function t(e){var n,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(U,"/tickets/").concat(e,".json"),{method:"delete"});case 2:n=this.state.tickets,a=n.findIndex((function(t){return t.id===e})),n.splice(a,1),this.setState({tickets:n});case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.props,n=e.tables,a=e.loading,o=e.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{in:this.props.showForm,classNames:"form",timeout:500,unmountOnExit:!0},r.a.createElement(M,{className:"item",postTicket:this.postTicket,onShowForm:this.props.onShowForm})),r.a.createElement(J,null,n.map((function(e){return r.a.createElement(R,{key:e.id,tableId:e.id,title:e.title,loading:a,error:o,onDragStart:t.onDragStart,onDragOver:t.onDragOver,onDrop:t.onDrop,tickets:t.state.tickets.filter((function(t){return t.lane===e.id})),onRemove:t.onRemove})}))))}}]),n}(r.a.Component)),Q=n(21),P=n.n(Q);function V(){var t=Object(g.a)(["\n    cursor: pointer;\n    padding: 2px;\n    margin-left: 20px;\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    background: rgba(217, 158, 187, 0.89);\n    opacity: 0.5;\n    box-shadow: 8px 8px 15px rgba(0,0,0,0.5);\n"]);return V=function(){return t},t}function H(){var t=Object(g.a)(["\n    margin: auto;\n    width: 100%;\n    height: auto;\n"]);return H=function(){return t},t}function Z(){var t=Object(g.a)(["\n    color: white;\n    font-size: calc(10px + 3vmin);\n    height:64px;    \n    letter-spacing: 5px;\n    text-shadow: 0 3px 3px rgba(0,0,0,0.25), 0 2px 2px rgba(0,0,0,0.22);\n    padding-top:22px;\n    font-weight: bold;\n"]);return Z=function(){return t},t}function z(){var t=Object(g.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: center;    \n    align-items: center;\n    background-color: #71babf;\n"]);return z=function(){return t},t}var L=b.a.div(z()),X=b.a.p(Z()),q=b.a.img(H()),K=b.a.div(V()),Y=function(t){var e=t.title,n=t.onShowForm;return r.a.createElement(L,null,r.a.createElement(X,null,e),r.a.createElement(K,{onClick:n},r.a.createElement(q,{src:P.a,alt:"not found"})))},$=function(t){Object(d.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(c.a)(this,n),(t=e.call(this)).state={showForm:JSON.parse(sessionStorage.getItem("showForm"))||!1},t.onShowForm=t.onShowForm.bind(Object(u.a)(t)),t}return Object(s.a)(n,[{key:"onShowForm",value:function(){sessionStorage.setItem("showForm",!this.state.showForm),this.setState({showForm:!this.state.showForm})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Y,{title:"Project Management Board",onShowForm:this.onShowForm}),r.a.createElement(G,{tables:[{id:1,title:"TO DO"},{id:2,title:"ACTIVE"},{id:3,title:"REVIEW"},{id:4,title:"DONE"}],onShowForm:this.onShowForm,showForm:this.state.showForm}))}}]),n}(a.Component),_=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function tt(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/management-board",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/management-board","/service-worker.js");_?(!function(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):tt(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):tt(e,t)}))}}()}},[[23,1,2]]]);
//# sourceMappingURL=main.e02ba2f4.chunk.js.map